---
layout: default
title: DDD
---

ただのメモ。

## 用語定義

### ドメイン

ユーザがソフトウェアで問題解決しようとする対象領域。

### モデル

ドメインに関連する問題を解決するために、そのドメインの選択された(必要な)側面を抽象化したもの。

## ドメイン駆動設計(Domain Driven Design)とは…

* ソフトウェア開発手法の1つ。
  * ソフトウェアを効率的、効果的に開発する。
* DDDのパターンは、モデリングによって劇的な効果が得られたプロジェクトの成功事例を抽出したもの。

### 定義

#### ドメインの中核となる複雑さと機会に焦点を当てる

システムを実装するための技術ではなく、ドメインの中の価値ある部分に着目すべき。

#### ドメインの専門家とソフトウェアの専門家の共同作業でモデルを探求する

モデルは一度定義して終わりではなく、継続的に改善されていくもの。
モデルの探求は、ドメインエキスパートとソフトウェア開発者が共に行うもの。

#### それらのモデルを明示的に表現するソフトウェアを書く

作成したモデルとソースコードの表現を極力近づくようにすることで、問題が解決されないことを避ける。またコードからモデルを読み解いて理解することを容易にする。

#### 境界付けられたコンテキストの中のユビキタス言語で話す

言語の意味を定義付ける境界を定義し、その中で全ての人が同じ意味で言葉を使う必要がある。
会話や文書、ソースコードなど様々なところで同じ言葉を使うことで、言葉の変換による認識のズレを極力無くす。

## オニオンアーキテクチャ

### アプリケーション(ユースケース)層

ドメイン層が公開している操作を組み合わせて、ユースケースを実現する。

### ドメイン層

ルールや制約といったドメイン知識を表現する。この層から他の層へ依存しないようにする。

* エンティティ
* 値オブジェクト
* ドメインイベント
* リポジトリのインターフェース
* ドメインサービス
* ファクトリ

### インフラストラクチャ(インフラ)層

下位の層(ユースケース層、ドメイン層)で定義されているインターフェースを実装する。

* リポジトリの実装クラス

### プレゼンテーション

アプリケーション外部との入出力を実現する。

* コントローラ
* ユーザ操作やファイル、データベースなどアプリケーション外部との入出力を扱うクラス

(途中...)

## 値オブジェクト

属性情報(対象の性質を表すもの)だけを持つ。

* 同一性を持たない
* イミュータブル
  * 属性に変更が必要になった場合、属性を変更するのではなく、新しい属性をもたった値オブジェクトを作成

## エンティティ

モデルのライフサイクル期間中、同一性を保つもの。

### ファクトリ

新しいオブジェクトを生成する責務。

### リポジトリ

既存オブジェクトを再構成する責務。
DBへの格納や取り出しなどオブジェクトの永続化。

動き続けられるアプリケーション
